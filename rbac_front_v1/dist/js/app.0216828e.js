(function(e){function t(t){for(var i,l,r=t[0],n=t[1],d=t[2],m=0,p=[];m<r.length;m++)l=r[m],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&p.push(o[l][0]),o[l]=0;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,r=1;r<a.length;r++){var n=a[r];0!==o[n]&&(i=!1)}i&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var i={},o={app:0},s=[];function l(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=i,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],n=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var c=n;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1925:function(e,t,a){},"505b":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("14d9");var i=a("2b0e"),o=a("5c96"),s=a.n(o),l=(a("0fae"),function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)}),r=[],n=a("2877"),d={},c=Object(n["a"])(d,l,r,!1,null,null,null),m=c.exports,p=a("8c4f"),u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_container"},[t("div",{staticClass:"login_box"},[e._m(0),t("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{model:e.loginForm,"label-width":"0px"}},[t("el-form-item",[t("el-input",{attrs:{"prefix-icon":"iconfont icon-user",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",[t("el-input",{attrs:{"prefix-icon":"iconfont icon-3702mima",placeholder:"请输入密码",type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{staticClass:"verifycode"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:30}},[t("el-input",{attrs:{"prefix-icon":"iconfont icon-3702mima",placeholder:"请输入验证码"},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}})],1),t("el-col",{attrs:{span:5}},[t("img",{attrs:{src:e.codeUrl,width:"95"},on:{click:e.getCodeImge}})])],1)],1),t("el-form-item",{staticClass:"btns"},[t("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),t("el-button",{attrs:{type:"info"},on:{click:e.resetLoginForm}},[e._v("重置")])],1)],1)],1)])},h=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"avatar_box"},[t("img",{staticClass:"logo",attrs:{src:a("cf05")}})])}],g={data(){return{codeUrl:"",loginForm:{uuid:"",username:"admin",password:"123",code:""}}},created:function(){this.getCodeImge()},methods:{async getCodeImge(){const{data:e}=await this.$http.get("code");200!=e.code?console.log("获取验证码失败"):(console.log("获取验证码成功"),this.codeUrl="data:image/gif;base64,"+e.data.img,this.loginForm.uuid=e.data.uuid)},resetLoginForm:function(){this.loginForm={username:"",password:"",code:""}},async login(){const{data:e}=await this.$http.post("login",this.loginForm);200!=e.code?console.log("登录失败"):(console.log("登录成功"),window.sessionStorage.setItem("userId",e.data.id),this.$router.push("/main"))}}},f=g,b=(a("ebb3"),Object(n["a"])(f,u,h,!1,null,null,null)),y=b.exports,v=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/main"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("部门管理")]),t("el-breadcrumb-item",[e._v("部门列表")])],1),t("el-card",{staticClass:"box-card"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加部门")]),t("el-table",{attrs:{data:e.departmentlist,stripe:"",border:""}},[t("el-table-column",{attrs:{type:"index"}}),t("el-table-column",{attrs:{prop:"id",label:"部门标识"}}),t("el-table-column",{attrs:{prop:"name",label:"部门名称"}}),t("el-table-column",{attrs:{prop:"sn",label:"部门编号"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑部门",placement:"top"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.showEditDialog(a.row.id)}}})],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除部门",placement:"top"}},[t("el-button",{attrs:{type:"warning",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.deleteDialog(a.row.id)}}})],1)]}}])})],1),t("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"添加部门",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.addDialogClosed}},[t("el-form",{ref:"addFormRefs",attrs:{model:e.addForm,"label-width":"70px"}},[t("el-form-item",{attrs:{label:"部门名称","label-width":"120px",prop:"name"}},[t("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"部门编号","label-width":"120px",prop:"sn"}},[t("el-input",{model:{value:e.addForm.sn,callback:function(t){e.$set(e.addForm,"sn",t)},expression:"addForm.sn"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addDepartment}},[e._v("确定")])],1)],1),t("el-dialog",{attrs:{title:"修改部门",visible:e.editDialogVisible},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClosed}},[t("el-form",{ref:"editFormRefs",attrs:{model:e.editForm,"label-width":"70px"}},[t("el-form-item",{attrs:{label:"部门名称","label-width":"120px",prop:"name"}},[t("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),t("el-form-item",{attrs:{label:"部门编号","label-width":"120px",prop:"sn"}},[t("el-input",{model:{value:e.editForm.sn,callback:function(t){e.$set(e.editForm,"sn",t)},expression:"editForm.sn"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.editDepartment}},[e._v("确定")])],1)],1)],1)},w=[],F={data(){return{queryInfo:{pageNum:1,pageSize:5},departmentlist:[],totalCount:0,addForm:{name:"",sn:""},dialogFormVisible:!1,editDialogVisible:!1,editForm:{id:0,name:"",sn:""}}},created:function(){this.getDepartmentList()},methods:{async getDepartmentList(){const{data:e}=await this.$http.get("department/list",{params:this.queryInfo});console.log(e),200==e.code?(this.$message.success("获取部门信息成功"),this.departmentlist=e.data.list,this.totalCount=e.data.total,console.log(this.departmentlist)):this.$message.error("获取部门信息失败")},handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getDepartmentList()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getDepartmentList()},addDialogClosed:function(){this.$refs.addFormRefs.resetFields()},async addDepartment(){const{data:e}=await this.$http.post("department/saveOrUpdate",this.addForm);console.log(e),200!=e.code?this.$message.error("添加部门失败"):(this.$message.success("添加部门成功"),this.getDepartmentList()),this.dialogFormVisible=!1},editDialogClosed(){this.$refs.editFormRefs.resetFields()},async showEditDialog(e){console.log(e);const{data:t}=await this.$http.get("department/info/"+e);200!=t.code?this.$message.error("查询部门信息失败"):(this.editDialogVisible=!0,this.editForm=t.data),console.log(this.editForm)},async editDepartment(){const{data:e}=await this.$http.post("department/saveOrUpdate",this.editForm);200!=e.code?this.$message.error("修改部门信息失败"):(this.$message.success("修改部门信息成功"),this.getDepartmentList()),this.editDialogVisible=!1},async deleteDialog(e){const t=await this.$confirm("此操作将永久删除该部门信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(e=>e);if(console.log(t),"cancel"==t&&this.$message.info("取消删除"),"confirm"==t){const{data:t}=await this.$http.delete("department/delete/"+e);200!=t.code?this.$message.error("删除部门信息失败"):(this.$message.success("删除部门信息成功"),this.getDepartmentList())}}}},x=F,C=Object(n["a"])(x,v,w,!1,null,null,null),I=C.exports,k=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/main"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("员工管理")]),t("el-breadcrumb-item",[e._v("员工列表")])],1),t("el-card",{staticClass:"box-card"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-input",{attrs:{placeholder:"输入姓名/邮箱"},model:{value:e.queryInfo.keyword,callback:function(t){e.$set(e.queryInfo,"keyword",t)},expression:"queryInfo.keyword"}})],1),t("el-col",{attrs:{span:8}},[t("el-select",{attrs:{placeholder:"部门"},model:{value:e.queryInfo.deptId,callback:function(t){e.$set(e.queryInfo,"deptId",t)},expression:"queryInfo.deptId"}},e._l(e.departmentlist,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),t("el-button",{attrs:{type:"primary"},on:{click:e.doQuery}},[e._v("查询")])],1),t("el-col",{attrs:{span:2}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加员工")])],1)],1),t("el-table",{attrs:{data:e.employeelist,stripe:"",border:""}},[t("el-table-column",{attrs:{type:"index"}}),t("el-table-column",{attrs:{prop:"id",label:"员工标识",width:"150px"}}),t("el-table-column",{attrs:{prop:"name",label:"员工名称",width:"150px"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"150px"}}),t("el-table-column",{attrs:{prop:"age",label:"年龄",width:"150px"}}),t("el-table-column",{attrs:{label:"超级管理员",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-switch",{on:{change:function(t){return e.employeeStateChange(a.row)}},model:{value:a.row.admin,callback:function(t){e.$set(a.row,"admin",t)},expression:"scope.row.admin"}})]}}])}),t("el-table-column",{attrs:{prop:"department.name",label:"部门名称",width:"150px"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑员工",placement:"top"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.showEditDialog(a.row.id)}}})],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除员工",placement:"top"}},[t("el-button",{attrs:{type:"warning",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.deleteDialog(a.row.id)}}})],1)]}}])})],1),t("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"添加员工",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.addDialogClosed}},[t("el-form",{ref:"addFormRefs",attrs:{model:e.addForm,"label-width":"70px"}},[t("el-form-item",{attrs:{label:"名称","label-width":"120px",prop:"name"}},[t("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"密码","label-width":"120px",prop:"password"}},[t("el-input",{model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),t("el-form-item",{attrs:{label:"邮箱","label-width":"120px",prop:"email"}},[t("el-input",{model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),t("el-form-item",{attrs:{label:"年龄","label-width":"120px",prop:"age"}},[t("el-input",{model:{value:e.addForm.age,callback:function(t){e.$set(e.addForm,"age",t)},expression:"addForm.age"}})],1),t("el-form-item",{attrs:{label:"部门","label-width":"120px",prop:"department.id"}},[t("el-select",{attrs:{placeholder:"部门"},model:{value:e.addForm.department.id,callback:function(t){e.$set(e.addForm.department,"id",t)},expression:"addForm.department.id"}},e._l(e.departmentlist,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"超级管理员","label-width":"120px",prop:"admin"}},[t("el-switch",{model:{value:e.addForm.admin,callback:function(t){e.$set(e.addForm,"admin",t)},expression:"addForm.admin"}})],1),e.addForm.admin?e._e():t("el-form-item",{attrs:{label:"分配角色","label-width":"120px"}},[t("el-transfer",{attrs:{data:e.roleData,titles:["未分配","已分配"]},model:{value:e.addForm.roleIds,callback:function(t){e.$set(e.addForm,"roleIds",t)},expression:"addForm.roleIds"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addEmployee}},[e._v("确定")])],1)],1),t("el-dialog",{attrs:{title:"编辑员工",visible:e.editDialogVisible},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClosed}},[t("el-form",{ref:"editFormRefs",attrs:{model:e.editForm,"label-width":"70px"}},[t("el-form-item",{attrs:{label:"名称","label-width":"120px",prop:"name"}},[t("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),t("el-form-item",{attrs:{label:"密码","label-width":"120px",prop:"password"}},[t("el-input",{model:{value:e.editForm.password,callback:function(t){e.$set(e.editForm,"password",t)},expression:"editForm.password"}})],1),t("el-form-item",{attrs:{label:"邮箱","label-width":"120px",prop:"email"}},[t("el-input",{model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),t("el-form-item",{attrs:{label:"年龄","label-width":"120px",prop:"age"}},[t("el-input",{model:{value:e.editForm.age,callback:function(t){e.$set(e.editForm,"age",t)},expression:"editForm.age"}})],1),t("el-form-item",{attrs:{label:"部门","label-width":"120px",prop:"department.id"}},[t("el-select",{attrs:{placeholder:"部门"},model:{value:e.editForm.department.id,callback:function(t){e.$set(e.editForm.department,"id",t)},expression:"editForm.department.id"}},e._l(e.departmentlist,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"超级管理员","label-width":"120px",prop:"admin"}},[t("el-switch",{model:{value:e.editForm.admin,callback:function(t){e.$set(e.editForm,"admin",t)},expression:"editForm.admin"}})],1),e.editForm.admin?e._e():t("el-form-item",{attrs:{label:"分配角色","label-width":"120px"}},[t("el-transfer",{attrs:{data:e.roleData,titles:["未分配","已分配"]},model:{value:e.editRoleIds,callback:function(t){e.editRoleIds=t},expression:"editRoleIds"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.editEmployee}},[e._v("确定")])],1)],1)],1)},A=[],$=(a("3c65"),{data(){return{queryInfo:{pageNum:1,pageSize:5,deptId:-1,keyword:""},employeelist:[],departmentlist:[],rolelist:[],roleData:[],totalCount:0,addForm:{name:"",password:"",email:"",age:"",department:{id:1},admin:!0,roleIds:[]},dialogFormVisible:!1,editForm:{id:"",name:"",password:"",email:"",age:"",department:{id:1},admin:!0},editRoleIds:[],editDialogVisible:!1}},created:function(){this.getEmployeeList(),this.getDepartmentList(),this.getRoleList()},methods:{async getRoleList(){const{data:e}=await this.$http.get("role/listAll");200==e.code&&(this.rolelist=e.data,this.rolelist.forEach(e=>{this.roleData.push({key:e.id,label:e.name})}))},async getDepartmentList(){const{data:e}=await this.$http.get("department/listAll");200==e.code?(this.departmentlist=e.data,this.departmentlist.unshift({id:-1,name:"全部",sn:"all"})):this.$message.error("获取部门信息失败")},async getEmployeeList(){const{data:e}=await this.$http.get("employee/list",{params:this.queryInfo});200==e.code?(this.employeelist=e.data.list,this.totalCount=e.data.total):this.$message.error("获取员工信息失败")},async doQuery(){this.getEmployeeList()},handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getEmployeeList()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getEmployeeList()},async employeeStateChange(e){let t={id:e.id,admin:e.admin};const{data:a}=await this.$http.post("employee/updateState",t);200!=a.code?(this.$message.error("修改更新员工状态失败"),e.admin=!e.admin):(this.$message.success("修改员工信息成功"),this.getEmployeeList())},addDialogClosed:function(){this.$refs.addFormRefs.resetFields(),this.addForm.roleIds=[]},async addEmployee(){let e={employee:this.addForm,roleIds:this.addForm.roleIds};const{data:t}=await this.$http.post("employee/saveOrUpdate",e);200!=t.code?this.$message.error("添加员工失败"):(this.$message.success("添加员工成功"),this.getEmployeeList()),this.dialogFormVisible=!1},editDialogClosed(){this.$refs.editFormRefs.resetFields(),this.editRoleIds=[]},showEditDialog(e){this.getEmployeeById(e),this.getRolesByEmpId(e)},async getEmployeeById(e){const{data:t}=await this.$http.get("employee/info/"+e);200!=t.code?this.$message.error("查询员工信息失败"):(this.editDialogVisible=!0,this.editForm=t.data)},async getRolesByEmpId(e){const{data:t}=await this.$http.get("role/query/"+e);200!=t.code?this.$message.error("查询角色信息失败"):null!=t.data&&0!=t.data.length&&t.data.forEach(e=>{this.editRoleIds.push(e.id)})},async editEmployee(){let e={employee:this.editForm,roleIds:this.editRoleIds};const{data:t}=await this.$http.post("employee/saveOrUpdate",e);200!=t.code?this.$message.error("修改员工信息失败"):(this.$message.success("修改员工信息成功"),this.getEmployeeList()),this.editDialogVisible=!1},async deleteDialog(e){const t=await this.$confirm("此操作将永久删除该员工信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(e=>e);if("cancel"==t&&this.$message.info("取消删除"),"confirm"==t){const{data:t}=await this.$http.delete("employee/delete/"+e);200!=t.code?this.$message.error("删除员工信息失败"):(this.$message.success("删除员工信息成功"),this.getEmployeeList())}}}}),D=$,R=Object(n["a"])(D,k,A,!1,null,null,null),z=R.exports,S=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/main"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("权限管理")]),t("el-breadcrumb-item",[e._v("权限列表")])],1),t("el-card",{staticClass:"box-card"},[t("el-button",{attrs:{type:"primary"},on:{click:e.load}},[e._v("重新加载")]),t("el-table",{attrs:{data:e.permissionlist,stripe:"",border:""}},[t("el-table-column",{attrs:{type:"index"}}),t("el-table-column",{attrs:{prop:"id",label:"权限标识"}}),t("el-table-column",{attrs:{prop:"name",label:"权限名称"}}),t("el-table-column",{attrs:{prop:"expression",label:"权限表达式"}})],1),t("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},q=[],E={data(){return{queryInfo:{pageNum:1,pageSize:5},permissionlist:[],totalCount:0}},created:function(){this.getPermissionList()},methods:{async getPermissionList(){const{data:e}=await this.$http.get("permission/list",{params:this.queryInfo});200==e.code?(this.$message.success("获取权限信息成功"),this.permissionlist=e.data.list,this.totalCount=e.data.total):this.$message.error("获取权限信息失败")},handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getPermissionList()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getPermissionList()},async load(){const{data:e}=await this.$http.post("permission/load");200==e.code&&this.getPermissionList()}}},V=E,_=Object(n["a"])(V,S,q,!1,null,null,null),L=_.exports,P=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/main"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("角色管理")]),t("el-breadcrumb-item",[e._v("角色列表")])],1),t("el-card",{staticClass:"box-card"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加角色")]),t("el-table",{attrs:{data:e.roleList,stripe:"",border:""}},[t("el-table-column",{attrs:{type:"index"}}),t("el-table-column",{attrs:{prop:"id",label:"角色标识"}}),t("el-table-column",{attrs:{prop:"name",label:"角色名称"}}),t("el-table-column",{attrs:{prop:"sn",label:"角色简称"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑角色",placement:"top"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.showEditDialog(a.row.id)}}})],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除角色",placement:"top"}},[t("el-button",{attrs:{type:"warning",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.deleteDialog(a.row.id)}}})],1)]}}])})],1),t("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"添加角色",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.addDialogClosed}},[t("el-form",{ref:"addFormRefs",attrs:{model:e.addForm,"label-width":"70px"}},[t("el-form-item",{attrs:{label:"角色名称","label-width":"120px",prop:"name"}},[t("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"角色编号","label-width":"120px",prop:"sn"}},[t("el-input",{model:{value:e.addForm.sn,callback:function(t){e.$set(e.addForm,"sn",t)},expression:"addForm.sn"}})],1),t("el-form-item",{attrs:{label:"分配权限","label-width":"120px"}},[t("el-transfer",{attrs:{data:e.permissionData,titles:["未分配","已分配"]},model:{value:e.addForm.permissionIds,callback:function(t){e.$set(e.addForm,"permissionIds",t)},expression:"addForm.permissionIds"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addRole}},[e._v("确定")])],1)],1),t("el-dialog",{attrs:{title:"编辑角色",visible:e.editDialogVisible},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClosed}},[t("el-form",{ref:"editFormRefs",attrs:{model:e.editForm,"label-width":"70px"}},[t("el-form-item",{attrs:{label:"角色名称","label-width":"120px",prop:"name"}},[t("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),t("el-form-item",{attrs:{label:"角色编号","label-width":"120px",prop:"sn"}},[t("el-input",{model:{value:e.editForm.sn,callback:function(t){e.$set(e.editForm,"sn",t)},expression:"editForm.sn"}})],1),t("el-form-item",{attrs:{label:"分配权限","label-width":"120px"}},[t("el-transfer",{attrs:{data:e.permissionData,titles:["未分配","已分配"]},model:{value:e.editPermissionIds,callback:function(t){e.editPermissionIds=t},expression:"editPermissionIds"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.editRole}},[e._v("确定")])],1)],1)],1)},j=[],O={data(){return{queryInfo:{pageNum:1,pageSize:5},addForm:{name:"",sn:"",permissionIds:[]},editForm:{id:0,name:"",sn:""},permissionData:[],editPermissionIds:[],roleList:[],totalCount:0,dialogFormVisible:!1,editDialogVisible:!1}},created:function(){this.getRoleList(),this.getAllPermissionList()},methods:{async getRoleList(){const{data:e}=await this.$http.get("role/list",{params:this.queryInfo});200==e.code?(this.roleList=e.data.list,this.totalCount=e.data.total):this.$message.error("获取角色信息失败")},async getAllPermissionList(){const{data:e}=await this.$http.get("permission/listAll");200==e.code&&e.data.forEach(e=>{this.permissionData.push({key:e.id,label:e.name})})},handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getRoleList()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getRoleList()},addDialogClosed:function(){this.$refs.addFormRefs.resetFields(),this.addForm.permissionIds=[]},async addRole(){let e={role:this.addForm,permissionIds:this.addForm.permissionIds};const{data:t}=await this.$http.post("role/saveOrUpdate",e);200!=t.code?this.$message.error("添加角色失败"):(this.$message.success("添加角色成功"),this.getRoleList()),this.dialogFormVisible=!1},editDialogClosed(){this.$refs.editFormRefs.resetFields(),this.permissionIds=[]},showEditDialog(e){this.getRoleById(e),this.getPermissionsById(e)},async getRoleById(e){const{data:t}=await this.$http.get("role/info/"+e);200!=t.code?this.$message.error("查询角色信息失败"):(this.editForm=t.data,this.editDialogVisible=!0)},async getPermissionsById(e){const{data:t}=await this.$http.get("permission/queryPermission/"+e);200!=t.code?this.$message.error("查询权限信息失败"):(this.editPermissionIds=t.data.map(e=>e.id),this.editDialogVisible=!0)},async editRole(){let e={role:this.editForm,permissionIds:this.editPermissionIds};const{data:t}=await this.$http.post("role/saveOrUpdate",e);200!=t.code?this.$message.error("修改角色信息失败"):(this.$message.success("修改角色信息成功"),this.getRoleList()),this.editDialogVisible=!1},async deleteDialog(e){const t=await this.$confirm("此操作将永久删除该角色信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(e=>e);if("cancel"==t&&this.$message.info("取消删除"),"confirm"==t){const{data:t}=await this.$http.delete("role/delete/"+e);200!=t.code?this.$message.error("删除员工信息失败"):(this.$message.success("删除员工信息成功"),this.getRoleList())}}}},Q=O,B=Object(n["a"])(Q,P,j,!1,null,null,null),U=B.exports,M=function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"home-container"},[t("el-header",[t("img",{staticClass:"logo",attrs:{src:a("cf05")}}),e._v("叩丁狼人事管理系统 "),t("el-button",{attrs:{type:"info"},on:{click:e.logout}},[e._v("退出")])],1),t("el-container",[t("el-aside",{attrs:{width:e.isCollapse?"64px":"200px"}},[t("div",{staticClass:"toggle-button",on:{click:e.toggleMenu}},[e._v("|||")]),t("el-menu",{attrs:{"unique-opened":"","background-color":"#333744","text-color":"#fff",collapse:e.isCollapse,"collapse-transition":!1,router:""}},e._l(e.menulist,(function(a,i){return t("el-submenu",{key:a.id,attrs:{index:a.id+""}},[t("template",{slot:"title"},[t("i",{class:e.objicons[i]}),t("span",[e._v(e._s(a.name))])]),e._l(a.children,(function(a){return t("el-menu-item",{key:a.id+"",attrs:{index:a.path+""}},[t("i",{staticClass:"el-icon-menu"}),t("span",[e._v(e._s(a.name))])])}))],2)})),1)],1),t("el-main",[t("router-view")],1)],1)],1)},N=[],T={data(){return{menulist:[{id:1,name:"系统管理",children:[{id:10,name:"部门管理",path:"/department"},{id:11,name:"员工管理",path:"/employee"},{id:12,name:"权限管理",path:"/permission"},{id:13,name:"角色管理",path:"/role"}]},{id:2,name:"数据管理",children:[{id:20,name:"字典目录"},{id:21,name:"字典明细"}]},{id:3,name:"客户管理",children:[{id:30,name:"客户列表"},{id:31,name:"潜在客户"},{id:32,name:"客户池"},{id:33,name:"失败客户"},{id:34,name:"正式客户"},{id:35,name:"流失客户"}]},{id:4,name:"客户历史",children:[{id:40,name:"跟进历史"},{id:41,name:"移交历史"}]},{id:5,name:"报表统计",children:[{id:50,name:"潜在客户报表"}]}],objicons:["iconfont icon-users","iconfont icon-tijikongjian","iconfont icon-shangpin","iconfont icon-danju","iconfont icon-baobiao"],isCollapse:!1}},methods:{toggleMenu:function(){this.isCollapse=!this.isCollapse},async logout(){const{data:e}=await this.$http.post("logout");200!=e.code?console.log("退出失败"):(console.log("退出成功"),sessionStorage.clear(),this.$router.push("/login"))}}},H=T,Z=(a("588d"),Object(n["a"])(H,M,N,!1,null,null,null)),W=Z.exports,G=function(){var e=this,t=e._self._c;return t("div",[t("H2",[e._v("你没有执行该操作的权限！")]),t("span",[e._v("请联系管理员解决！")]),t("span",[e._v("联系电话：020-85628002")]),t("span",[e._v("叩丁狼教育")])],1)},K=[],Y={},J=Object(n["a"])(Y,G,K,!1,null,null,null),X=J.exports,ee=function(){var e=this,t=e._self._c;return t("h1",[e._v("欢迎来到叩丁狼人事管理系统")])},te=[],ae={},ie=Object(n["a"])(ae,ee,te,!1,null,null,null),oe=ie.exports;i["default"].use(p["a"]);const se=[{path:"/",redirect:"/login"},{path:"/login",component:y},{path:"/main",component:W,redirect:"/welcome",children:[{path:"/welcome",component:oe},{path:"/department",component:I},{path:"/employee",component:z},{path:"/permission",component:L},{path:"/role",component:U},{path:"/nopermission",component:X}]}],le=new p["a"]({routes:se}),re=p["a"].prototype.push;p["a"].prototype.push=function(e){return re.call(this,e).catch(e=>e)},le.beforeEach((e,t,a)=>{if(console.log("router---beforeEach"),"/login"===e.path)return a();const i=window.sessionStorage.getItem("userId");if(i)return a();a("/login")});var ne=le,de=(a("aede"),a("82da"),a("bc3a"));i["default"].config.productionTip=!1,i["default"].use(s.a),i["default"].prototype.$http=de["a"],de["a"].defaults.baseURL="http://127.0.0.1:8080/api/",de["a"].defaults.withCredentials=!0,i["default"].prototype.$message=o["Message"],i["default"].prototype.$confirm=o["MessageBox"],de["a"].interceptors.request.use((function(e){const t=window.sessionStorage.getItem("userId");return t&&(e.headers.userId=t),e}),(function(e){return Promise.reject(e)})),de["a"].interceptors.response.use((function(e){return 401==e.data.code?ne.push("/login"):403==e.data.code&&ne.push("/nopermission"),e}),(function(e){return Promise.reject(e)})),new i["default"]({router:ne,render:e=>e(m)}).$mount("#app")},"588d":function(e,t,a){"use strict";a("1925")},"82da":function(e,t,a){},aede:function(e,t,a){},cf05:function(e,t){e.exports="data:image/png;base64,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"},ebb3:function(e,t,a){"use strict";a("505b")}});
//# sourceMappingURL=app.0216828e.js.map